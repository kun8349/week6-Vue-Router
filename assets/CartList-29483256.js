import{_ as p,o as l,c as i,a as t,F as _,e as g,t as o,f as m,v as x}from"./index-08afebbc.js";const{VITE_APP_URL:c,VITE_APP_PATH:h}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_APP_PATH:"kevin-jiang",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},b={data(){return{cartList:{},loadingItem:""}},methods:{getCart(){this.$http.get(`${c}api/${h}/cart`).then(s=>{this.cartList=s.data.data.carts})},deleteSingle(s){this.loadingItem=s.id,this.$http.delete(`${c}api/${h}/cart/${s.id}`).then(n=>{alert("已刪除產品"),this.getCart(),this.loadingItem=""}).catch(n=>{alert(n.response.data.message)})},editNum(s){const n={product_id:s.id,qty:s.qty};this.loadingItem=s.id,this.$http.put(`${c}api/${h}/cart/${s.id}`,{data:n}).then(d=>{alert(d.data.message),this.getCart(),this.loadingItem=""}).catch(d=>{alert(d.response.data.message)})}},mounted(){this.getCart()}},f=t("p",null,"這是購物車",-1),y={class:"table align-middle"},I=t("thead",null,[t("tr",null,[t("th",{width:"50px"}),t("th",{scope:"col",class:"text-center"},"品名"),t("th",{scope:"col",width:"100px"},"單價"),t("th",{scope:"col",width:"220px",class:"text-center"},"數量/單位"),t("th",{width:"150px"})])],-1),$={class:"table-group-divider"},C=["onClick","disabled"],L={class:"text-center"},k={class:"fs-5"},v={class:""},E={class:"input-group w-50"},V=["onUpdate:modelValue","onChange","disabled"],w={class:"input-group-text"},A={class:"text-end fs-5"},T=t("td",null,null,-1),D=t("td",null,null,-1),U=t("td",null,null,-1),q=t("td",null,null,-1),B={class:"fs-5 text-end fw-bold"},R={key:1},S=t("td",null,null,-1),N=t("td",{class:"text-secondary text-end"},[t("h3",{class:"mt-3"},"購物車目前沒東西! 叉滴~")],-1),F=t("td",null,null,-1),H=t("td",null,null,-1),M=t("td",null,null,-1),O=[S,N,F,H,M];function j(s,n,d,P,a,r){return l(),i(_,null,[f,t("table",y,[I,t("tbody",$,[a.cartList.length!==0?(l(),i(_,{key:0},[(l(!0),i(_,null,g(a.cartList,e=>(l(),i("tr",{key:e.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:()=>r.deleteSingle(e),disabled:a.loadingItem===e.id}," X ",8,C)]),t("td",L,o(e.product.title),1),t("td",k,o(e.product.price),1),t("td",v,[t("div",E,[m(t("input",{"onUpdate:modelValue":u=>e.qty=u,type:"number",min:"1",class:"form-control",onChange:()=>r.editNum(e),style:{},disabled:a.loadingItem===e.id},null,40,V),[[x,e.qty]]),t("span",w,o(e.product.unit),1)])]),t("td",A," $"+o(e.total),1)]))),128)),t("tr",null,[T,D,U,q,t("td",B," 總計： $"+o(),1)])],64)):(l(),i("tr",R,O))])])],64)}const z=p(b,[["render",j]]);export{z as default};
